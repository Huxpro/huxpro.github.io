I"O´<h2 id="basic">Basic</h2>

<blockquote>
  <p>æ¯æ¬¡æˆ‘ä»¬ä½¿ç”¨ <code class="highlighter-rouge">Inductive</code> æ¥å£°æ˜æ•°æ®ç±»å‹æ—¶ï¼ŒCoq ä¼šè‡ªåŠ¨ä¸ºè¿™ä¸ªç±»å‹ç”Ÿæˆ <em>å½’çº³åŸç†</em>ã€‚
Every time we declare a new <code class="highlighter-rouge">Inductive</code> datatype, Coq automatically generates an <em>induction principle</em> for this type.</p>
</blockquote>

<p>è‡ªç„¶æ•°çš„å½’çº³åŸç†:</p>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">Check</span><span class="w"> </span><span class="no">nat_ind</span><span class="pi">.</span><span class="w"> </span><span class="p">:</span><span class="w">

</span><span class="p">âˆ€</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="kr">Prop</span><span class="o">,</span><span class="w">
  </span><span class="no">P</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="p">â†’</span><span class="w">
  </span><span class="o">(</span><span class="p">âˆ€</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="no">n</span><span class="o">))</span><span class="w"> </span><span class="p">â†’</span><span class="w">
  </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>written as inference rule:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>                    P 0
  âˆ€ n : nat, P n -&gt; P (S n)
  -------------------------
  âˆ€ n : nat,        P n
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p><code class="highlighter-rouge">induction</code> tactic is wrapper of <code class="highlighter-rouge">apply t_ind</code></p>
</blockquote>

<blockquote>
  <p>Coq ä¸ºæ¯ä¸€ä¸ª <code class="highlighter-rouge">Inductive</code> å®šä¹‰çš„æ•°æ®ç±»å‹ç”Ÿæˆäº†å½’çº³åŸç†ï¼ŒåŒ…æ‹¬é‚£äº›éé€’å½’çš„
Coq generates induction principles for every datatype defined with <code class="highlighter-rouge">Inductive</code>, including those that arenâ€™t recursive.</p>
</blockquote>

<blockquote>
  <p>å°½ç®¡æˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨å½’çº³æ¥è¯æ˜éé€’å½’æ•°æ®ç±»å‹çš„æ€§è´¨
Although of course we donâ€™t need induction to prove properties of non-recursive datatypes. (<code class="highlighter-rouge">destruct</code> would be sufficient)</p>
</blockquote>

<blockquote>
  <p>å½’çº³åŸç†çš„æ¦‚å¿µä»ç„¶é€‚ç”¨äºå®ƒä»¬ï¼š å®ƒæ˜¯ä¸€ç§è¯æ˜ä¸€ä¸ªå¯¹äºè¿™ä¸ªç±»å‹æ‰€æœ‰å€¼éƒ½æˆç«‹çš„æ€§è´¨çš„æ–¹æ³•ã€‚
the idea of an induction principle still makes sense for them: it gives a way to prove that a property holds for all values of the type.</p>
</blockquote>

<h3 id="non-recursive">Non-recursive</h3>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">Inductive</span><span class="w"> </span><span class="no">yesno</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kr">Type</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">yes</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">no</span><span class="pi">.</span><span class="w">

</span><span class="k">Check</span><span class="w"> </span><span class="no">yesno_ind</span><span class="pi">.</span><span class="w"> </span><span class="p">:</span><span class="w">
</span><span class="no">yesno_ind</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">yesno</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="kr">Prop</span><span class="o">,</span><span class="w">
  </span><span class="no">P</span><span class="w"> </span><span class="no">yes</span><span class="w">  </span><span class="p">â†’</span><span class="w">
  </span><span class="no">P</span><span class="w"> </span><span class="no">no</span><span class="w">   </span><span class="p">â†’</span><span class="w">
  </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">y</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">yesno</span><span class="o">,</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">y</span><span class="w"> 
</span></pre></td></tr></tbody></table></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>             P yes 
             P no
------------------
âˆ€ y : yesno, P y 
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="structural-recursive">Structural-Recursive</h3>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">Inductive</span><span class="w"> </span><span class="no">natlist</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kr">Type</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">nnil</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">ncons</span><span class="w"> </span><span class="o">(</span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="no">l</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">natlist</span><span class="o">).</span><span class="w">

</span><span class="k">Check</span><span class="w"> </span><span class="no">natlist_ind</span><span class="pi">.</span><span class="w"> </span><span class="p">:</span><span class="w">
</span><span class="no">natlist_ind</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">natlist</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="kr">Prop</span><span class="o">,</span><span class="w">
  </span><span class="no">P</span><span class="w"> </span><span class="no">nnil</span><span class="w">  </span><span class="p">â†’</span><span class="w">
  </span><span class="o">(</span><span class="p">âˆ€</span><span class="w"> </span><span class="o">(</span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="no">l</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">natlist</span><span class="o">),</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">l</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="o">(</span><span class="no">ncons</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">l</span><span class="o">))</span><span class="w"> </span><span class="p">â†’</span><span class="w">
  </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">l</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">natlist</span><span class="o">,</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">l</span><span class="w"> 
</span></pre></td></tr></tbody></table></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>                                  P nnil 
âˆ€ (n : nat) (l : natlist), P l -&gt; P (ncons n l)
-----------------------------------------------
âˆ€ l : natlist,                    P l 
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="highlighter-rouge">P</code> only need to fullfill <code class="highlighter-rouge">l : the_type</code> but not <code class="highlighter-rouge">n:nat</code> since we are proving property of <code class="highlighter-rouge">the_type</code>.</p>

<h3 id="the-pattern">The Pattern</h3>

<blockquote>
  <p>These generated principles follow a similar pattern.</p>
  <ul>
    <li>induction on each cases</li>
    <li>proof by exhaustiveness?</li>
  </ul>
</blockquote>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">Inductive</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kr">Type</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> 
  </span><span class="o">|</span><span class="w"> </span><span class="no">c1</span><span class="w"> </span><span class="o">(</span><span class="no">x1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">a1</span><span class="o">)</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="o">(</span><span class="no">xn</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">an</span><span class="o">)</span><span class="w">
  </span><span class="o">...</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">cn</span><span class="w"> </span><span class="o">...</span><span class="w">

</span><span class="no">t_ind</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="no">P</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="kr">Prop</span><span class="o">,</span><span class="w">
              </span><span class="o">...</span><span class="w"> </span><span class="no">case</span><span class="w"> </span><span class="no">for</span><span class="w"> </span><span class="no">c1</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">â†’</span><span class="w">
              </span><span class="o">...</span><span class="w"> </span><span class="no">case</span><span class="w"> </span><span class="no">for</span><span class="w"> </span><span class="no">c2</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="o">...</span><span class="w">
              </span><span class="o">...</span><span class="w"> </span><span class="no">case</span><span class="w"> </span><span class="no">for</span><span class="w"> </span><span class="no">cn</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">â†’</span><span class="w">
              </span><span class="p">âˆ€</span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">t</span><span class="o">,</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>å¯¹äº <code class="highlighter-rouge">t</code> çš„å½’çº³åŸç†æ˜¯åˆæ‰€æœ‰å¯¹äº <code class="highlighter-rouge">c</code> çš„å½’çº³åŸç†æ‰€ç»„æˆçš„: ï¼ˆå³æ‰€æœ‰ case æˆç«‹)</p>

<p>å¯¹äº <code class="highlighter-rouge">c</code> çš„å½’çº³åŸç†åˆ™æ˜¯</p>
<blockquote>
  <p>å¯¹äºæ‰€æœ‰çš„ç±»å‹ä¸º <code class="highlighter-rouge">a1...an</code> çš„å€¼ <code class="highlighter-rouge">x1...xn</code>ï¼Œå¦‚æœ <code class="highlighter-rouge">P</code> å¯¹æ¯ä¸ª å½’çº³çš„å‚æ•°ï¼ˆæ¯ä¸ªå…·æœ‰ç±»å‹ <code class="highlighter-rouge">t</code> çš„ <code class="highlighter-rouge">xi</code>ï¼‰éƒ½æˆç«‹ï¼Œé‚£ä¹ˆ <code class="highlighter-rouge">P</code> å¯¹äº <code class="highlighter-rouge">c x1 ... xn</code> æˆç«‹â€</p>
</blockquote>

<p>æ¯ä¸ªå…·æœ‰ç±»å‹ <code class="highlighter-rouge">t</code> çš„å‚æ•°çš„åœ°æ–¹å³å‘ç”Ÿäº†ã€Œé€’å½’ã€ä¸ã€Œå­ç»“æ„ã€ï¼Œå½’çº³å‡è®¾ = ã€Œå¯¹å­ç»“æ„æˆç«‹ã€.</p>

<h2 id="polymorphism">Polymorphism</h2>

<p>æ¥ä¸‹æ¥è€ƒè™‘å¤šæ€åˆ—è¡¨ï¼š</p>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c">(* in ADT syntax *)</span><span class="w">
</span><span class="k">Inductive</span><span class="w"> </span><span class="no">list</span><span class="w"> </span><span class="o">(</span><span class="no">X</span><span class="p">:</span><span class="kr">Type</span><span class="o">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kr">Type</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">nil</span><span class="w"> 
  </span><span class="o">|</span><span class="w"> </span><span class="no">cons</span><span class="w"> </span><span class="o">(</span><span class="no">x</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">X</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="no">l'</span><span class="p">:</span><span class="w"> </span><span class="no">list</span><span class="w"> </span><span class="no">X</span><span class="o">)</span><span class="w"> 

</span><span class="c">(* in GADT syntax *)</span><span class="w">
</span><span class="k">Inductive</span><span class="w"> </span><span class="no">list</span><span class="w"> </span><span class="o">(</span><span class="no">X</span><span class="p">:</span><span class="kr">Type</span><span class="o">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kr">Type</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">nil</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">list</span><span class="w"> </span><span class="no">X</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">cons</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">X</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="no">list</span><span class="w"> </span><span class="no">X</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="no">list</span><span class="w"> </span><span class="no">X</span><span class="pi">.</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>here, the whole def is <em>parameterized</em> on a <code class="highlighter-rouge">set X</code>: that is, we are defining a <em>family</em> of inductive types <code class="highlighter-rouge">list X</code>, one for each <code class="highlighter-rouge">X</code>.</p>
</blockquote>

<p>è¿™é‡Œï¼Œæ•´ä¸ªå®šä¹‰éƒ½æ˜¯è¢«é›†åˆ <code class="highlighter-rouge">X</code> <em>å‚æ•°åŒ–_çš„ï¼š 
ä¹Ÿå³ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ— <code class="highlighter-rouge">list : X -&gt; Type</code>, å¯¹äºæ¯ä¸ª <code class="highlighter-rouge">X</code>ï¼Œæˆ‘ä»¬éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„_é¡¹</em>: <code class="highlighter-rouge">list X</code>, which is a <code class="highlighter-rouge">Type</code>, å¯å†™ä½œ <code class="highlighter-rouge">list X : Type</code>.</p>

<blockquote>
  <p><code class="highlighter-rouge">list_ind</code> can be thought of as a polymorphic function that, 
when applied to a type <code class="highlighter-rouge">X</code>, gives us back an induction principle specialized to the type <code class="highlighter-rouge">list X</code>.</p>
</blockquote>

<p>å› æ­¤ï¼Œå…¶å½’çº³å®šç† <code class="highlighter-rouge">list_ind</code> æ˜¯ä¸€ä¸ªè¢« <code class="highlighter-rouge">X</code> å‚æ•°åŒ–å¤šæ€çš„å‡½æ•°ã€‚
å½“åº”ç”¨ <code class="highlighter-rouge">X : Type</code> æ—¶ï¼Œè¿”å›ä¸€ä¸ªç‰¹åŒ–åœ¨ <code class="highlighter-rouge">list X : Type</code> ä¸Šçš„å½’çº³åŸç†</p>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="no">list_ind</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="o">(</span><span class="no">X</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kr">Type</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="no">P</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">list</span><span class="w"> </span><span class="no">X</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="kr">Prop</span><span class="o">),</span><span class="w">
    </span><span class="no">P</span><span class="w"> </span><span class="o">[]</span><span class="w"> </span><span class="p">â†’</span><span class="w">
    </span><span class="o">(</span><span class="p">âˆ€</span><span class="o">(</span><span class="no">x</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">X</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="no">l</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">list</span><span class="w"> </span><span class="no">X</span><span class="o">),</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">l</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="o">(</span><span class="no">x</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="no">l</span><span class="o">))</span><span class="w"> </span><span class="p">â†’</span><span class="w">
    </span><span class="p">âˆ€</span><span class="no">l</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">list</span><span class="w"> </span><span class="no">X</span><span class="o">,</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">l</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>âˆ€(X : Type), {

                           P []                   -- base structure holds
    âˆ€(x : X) (l : list X), P l â†’ P (x :: l)       -- sub-structure holds -&gt; structure holds
    ---------------------------------------
    âˆ€l : list X,           P l                    -- all structure holds

}
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="induction-hypotheses-å½’çº³å‡è®¾">Induction Hypotheses å½’çº³å‡è®¾</h2>

<blockquote>
  <p>The induction hypothesis is the <em>premise</em> of this latter implication 
â€” the assumption that <code class="highlighter-rouge">P</code> holds of <code class="highlighter-rouge">n'</code>, which we are allowed to use in proving that <code class="highlighter-rouge">P</code> holds for <code class="highlighter-rouge">S n'</code>.</p>
</blockquote>

<p><em>å½’çº³å‡è®¾å°±æ˜¯ <code class="highlighter-rouge">P n' -&gt; P (S n')</code> è¿™ä¸ªè•´å«å¼ä¸­çš„å‰æéƒ¨åˆ†</em>
ä½¿ç”¨ <code class="highlighter-rouge">nat_ind</code> æ—¶éœ€è¦æ˜¾å¼å¾—ç”¨ <code class="highlighter-rouge">intros n IHn</code> å¼•å…¥ï¼Œäºæ˜¯å°±å˜æˆäº† proof context ä¸­çš„å‡è®¾.</p>

<h2 id="more-on-the-induction-tactic">More on the <code class="highlighter-rouge">induction</code> Tactic</h2>

<h3 id="re-generalize-é‡æ–°æ³›åŒ–">â€œRe-generalizeâ€ é‡æ–°æ³›åŒ–</h3>

<p>Noticed that in proofs using <code class="highlighter-rouge">nat_ind</code>, we need to keep <code class="highlighter-rouge">n</code> generailzed. 
if we <code class="highlighter-rouge">intros</code> particular <code class="highlighter-rouge">n</code> first then <code class="highlighter-rouge">apply nat_ind</code>, it wonâ€™t worksâ€¦</p>

<p>But we could <code class="highlighter-rouge">intros n. induction n.</code>, thatâ€™s <code class="highlighter-rouge">induction</code> tactic internally â€œre-generalizeâ€ the <code class="highlighter-rouge">n</code> we perform induction on.</p>

<h3 id="automatic-intros-ie-specialize-variables-before-the-variable-we-induction-on">Automatic <code class="highlighter-rouge">intros</code> i.e. specialize variables before the variable we induction on</h3>

<p>A canonical case is <code class="highlighter-rouge">induction n</code> vs <code class="highlighter-rouge">induction m</code> on theorem <code class="highlighter-rouge">plus_comm'' : âˆ€n m : nat, n + m = m + n.</code>.
to keep a var generialâ€¦we can either change variable order under <code class="highlighter-rouge">âˆ€</code>, or using <code class="highlighter-rouge">generalize dependent</code>.</p>

<h2 id="induction-principles-in-prop">Induction Principles in Prop</h2>

<h3 id="ç†è§£ä¾èµ–ç±»å‹çš„å½’çº³å‡è®¾-ä¸-coq-æ’é™¤è¯æ®å‚æ•°çš„åŸå› ">ç†è§£ä¾èµ–ç±»å‹çš„å½’çº³å‡è®¾ ä¸ Coq æ’é™¤è¯æ®å‚æ•°çš„åŸå› </h3>

<p>é™¤äº†é›†åˆ <code class="highlighter-rouge">Set</code>ï¼Œå‘½é¢˜ <code class="highlighter-rouge">Prop</code> ä¹Ÿå¯ä»¥æ˜¯å½’çº³å®šä¹‰ä¸ <code class="highlighter-rouge">induction</code> on å¾—.
éš¾ç‚¹åœ¨äºï¼š<em>Inductive Prop</em> é€šå¸¸æ˜¯ dependent type çš„ï¼Œè¿™é‡Œä¼šå¸¦æ¥å¤æ‚åº¦ã€‚</p>

<p>è€ƒè™‘å‘½é¢˜ <code class="highlighter-rouge">even</code>:</p>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="w"> </span><span class="k">Inductive</span><span class="w"> </span><span class="no">even</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="kr">Prop</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">ev_0</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">even</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">ev_SS</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">even</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="no">even</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="no">n</span><span class="o">)).</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>æˆ‘ä»¬å¯ä»¥çŒœæµ‹ä¸€ä¸ªæœ€ general çš„å½’çº³å‡è®¾ï¼š</p>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="no">ev_ind_max</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="o">(</span><span class="p">âˆ€</span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">even</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="kr">Prop</span><span class="o">),</span><span class="w">
  </span><span class="no">P</span><span class="w"> </span><span class="no">O</span><span class="w"> </span><span class="no">ev_0</span><span class="w"> </span><span class="p">â†’</span><span class="w">
  </span><span class="o">(</span><span class="p">âˆ€</span><span class="o">(</span><span class="no">m</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="no">E</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">even</span><span class="w"> </span><span class="no">m</span><span class="o">),</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="no">E</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="no">m</span><span class="o">))</span><span class="w"> </span><span class="o">(</span><span class="no">ev_SS</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="no">E</span><span class="o">))</span><span class="w"> </span><span class="p">â†’</span><span class="w">
  </span><span class="p">âˆ€</span><span class="o">(</span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="no">E</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">even</span><span class="w"> </span><span class="no">n</span><span class="o">),</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">E</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>å³:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>                                   P 0 ev_0                    -- base 
  âˆ€(m : nat) (E : even m), P m E â†’ P (S (S m)) (ev_SS m E)     -- sub structure -&gt; structure
  --------------------------------------------------------
  âˆ€(n : nat) (E : even n),         P n E                       -- all structure
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ³¨æ„è¿™é‡Œ:</p>

<ol>
  <li><code class="highlighter-rouge">even</code> is <em>indexed</em> by nat <code class="highlighter-rouge">n</code> (å¯¹æ¯” <code class="highlighter-rouge">list</code> is <em>parametrized</em> by <code class="highlighter-rouge">X</code>)
    <ul>
      <li>ä»æ—çš„è§’åº¦:  <code class="highlighter-rouge">even : nat -&gt; Prop</code>, a family of <code class="highlighter-rouge">Prop</code> indexed by <code class="highlighter-rouge">nat</code></li>
      <li>ä»å®ä½“è§’åº¦: æ¯ä¸ª <code class="highlighter-rouge">E : even n</code> å¯¹è±¡éƒ½æ˜¯ä¸€ä¸ª evidence that <em>particular nat is even</em>.</li>
    </ul>
  </li>
  <li>è¦è¯çš„æ€§è´¨ <code class="highlighter-rouge">P</code> is parametrized by <code class="highlighter-rouge">E : even n</code> ä¹Ÿå› æ­¤è¿å¸¦ç€ by <code class="highlighter-rouge">n</code>. ä¹Ÿå°±æ˜¯ <code class="highlighter-rouge">P : (âˆ€n : nat, even n â†’ Prop)</code>  (å¯¹æ¯” <code class="highlighter-rouge">P : list X â†’ Prop</code>)
    <ul>
      <li>æ‰€ä»¥å…¶å®å…³äº <code class="highlighter-rouge">even n</code> çš„æ€§è´¨æ˜¯åŒæ—¶å…³äºæ•°å­— <code class="highlighter-rouge">n</code> å’Œè¯æ® <code class="highlighter-rouge">even n</code> è¿™ä¸¤ä»¶äº‹çš„.</li>
    </ul>
  </li>
</ol>

<p>å› æ­¤ <code class="highlighter-rouge">sub structure -&gt; structure</code> è¯´å¾—æ˜¯ï¼š</p>
<blockquote>
  <p>whenever <code class="highlighter-rouge">n</code> is an even number and <code class="highlighter-rouge">E</code> is an evidence of its evenness, if <code class="highlighter-rouge">P</code> holds of <code class="highlighter-rouge">n</code> and <code class="highlighter-rouge">E</code>, then it also holds of <code class="highlighter-rouge">S (S n)</code> and <code class="highlighter-rouge">ev_SS n E</code>.
å¯¹äºä»»æ„æ•°å­— <code class="highlighter-rouge">n</code> ä¸è¯æ® <code class="highlighter-rouge">E</code>ï¼Œå¦‚æœ <code class="highlighter-rouge">P</code> å¯¹ <code class="highlighter-rouge">n</code> å’Œ <code class="highlighter-rouge">E</code> æˆç«‹ï¼Œé‚£ä¹ˆå®ƒä¹Ÿå¯¹ <code class="highlighter-rouge">S (S n)</code> å’Œ <code class="highlighter-rouge">ev_SS n E</code> æˆç«‹ã€‚</p>
</blockquote>

<p>ç„¶è€Œï¼Œå½“æˆ‘ä»¬ <code class="highlighter-rouge">induction (H : even n)</code> æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸æƒ³è¯çš„æ€§è´¨å¹¶ä¸åŒ…æ‹¬ã€Œè¯æ®ã€ï¼Œè€Œæ˜¯ã€Œæ»¡è¶³è¯¥æ€§è´¨çš„è¿™ <code class="highlighter-rouge">Type</code> ä¸œè¥¿ã€çš„æ€§è´¨, 
æ¯”å¦‚:</p>
<ol>
  <li><code class="highlighter-rouge">nat</code> ä¸Šçš„ä¸€å…ƒå…³ç³» (æ€§è´¨)    è¯æ˜ <code class="highlighter-rouge">nat</code> çš„æ€§è´¨          :  <code class="highlighter-rouge">ev_even : even n â†’ âˆƒk, n = double k</code></li>
  <li><code class="highlighter-rouge">nat</code> ä¸Šçš„äºŒå…ƒå…³ç³»           è¯æ˜ <code class="highlighter-rouge">nat</code> ä¸Šçš„äºŒå…ƒå…³ç³»    :  <code class="highlighter-rouge">le_trans : âˆ€m n o, m â‰¤ n â†’ n â‰¤ o â†’ m â‰¤ o</code></li>
  <li>äºŒå…ƒå…³ç³» <code class="highlighter-rouge">reg_exp Ã— list T</code> è¯æ˜ äºŒå…ƒå…³ç³» <code class="highlighter-rouge">reg_exp Ã— T</code>:  <code class="highlighter-rouge">in_re_match : âˆ€T (s : list T) (x : T) (re : reg_exp), s =~ re â†’ In x s â†’ In x (re_chars re).</code> 
éƒ½æ˜¯å¦‚æ­¤ï¼Œ</li>
</ol>

<p>å› æ­¤æˆ‘ä»¬ä¹Ÿä¸å¸Œæœ›ç”Ÿæˆçš„å½’çº³å‡è®¾æ˜¯åŒ…æ‹¬è¯æ®çš„â€¦
åŸæ¥çš„å½’çº³å‡è®¾ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>  âˆ€P : (âˆ€n : nat, even n â†’ Prop),
  ... â†’
  âˆ€(n : nat) (E : even n), P n E
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¯ä»¥è¢«ç®€åŒ–ä¸ºåªå¯¹ <code class="highlighter-rouge">nat</code> å‚æ•°åŒ–çš„å½’çº³å‡è®¾ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>  âˆ€P : nat â†’ Prop,
  ... â†’
  âˆ€(n : nat) (E: even n), P n
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å› æ­¤ coq ç”Ÿæˆçš„å½’çº³åŸç†ä¹Ÿæ˜¯ä¸åŒ…æ‹¬è¯æ®çš„ã€‚æ³¨æ„ <code class="highlighter-rouge">P</code> ä¸¢å¼ƒäº†å‚æ•° <code class="highlighter-rouge">E</code>:</p>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="no">even_ind</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Prop</span><span class="o">,</span><span class="w">
  </span><span class="no">P</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">â†’</span><span class="w">
  </span><span class="o">(</span><span class="p">âˆ€</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">even</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="no">n</span><span class="o">)))</span><span class="w"> </span><span class="p">â†’</span><span class="w">
  </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">even</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">*)</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>ç”¨äººè¯è¯´å°±æ˜¯ï¼š</p>
<ol>
  <li>P å¯¹ 0 æˆç«‹ï¼Œ</li>
  <li>å¯¹ä»»æ„ nï¼Œå¦‚æœ n æ˜¯å¶æ•°ä¸” P å¯¹ n æˆç«‹ï¼Œé‚£ä¹ˆ P å¯¹ S (S n) æˆç«‹ã€‚
=&gt; P å¯¹æ‰€æœ‰å¶æ•°æˆç«‹</li>
</ol>

<h3 id="general-parameter">â€œGeneral Parameterâ€</h3>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">Inductive</span><span class="w"> </span><span class="no">le</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="no">nat</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="kr">Prop</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">le_n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">n</span><span class="o">,</span><span class="w">               </span><span class="no">le</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">n</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">le_S</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">m</span><span class="o">,</span><span class="w"> </span><span class="o">(</span><span class="no">le</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">m</span><span class="o">)</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="o">(</span><span class="no">le</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="no">m</span><span class="o">)).</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">Inductive</span><span class="w"> </span><span class="no">le</span><span class="w"> </span><span class="o">(</span><span class="no">n</span><span class="p">:</span><span class="no">nat</span><span class="o">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="w"> </span><span class="p">â†’</span><span class="w"> </span><span class="kr">Prop</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">le_n</span><span class="w">                </span><span class="p">:</span><span class="w"> </span><span class="no">le</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">n</span><span class="w">
  </span><span class="o">|</span><span class="w"> </span><span class="no">le_S</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="o">(</span><span class="no">H</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">le</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">m</span><span class="o">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">le</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="no">m</span><span class="o">).</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>ä¸¤è€…è™½ç„¶ç­‰ä»·ï¼Œä½†æ˜¯å…±åŒçš„ <code class="highlighter-rouge">âˆ€ n</code> å¯ä»¥è¢«æå‡ä¸º typecon çš„å‚æ•°, i.e. â€œGeneral Parameterâ€ to the whole definition.</p>

<p>å…¶ç”Ÿæˆçš„å½’çº³å‡è®¾ä¹Ÿä¼šä¸åŒ: (after renaming)</p>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="no">le_ind</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">nat</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Prop</span><span class="o">,</span><span class="w">
  </span><span class="o">(</span><span class="p">âˆ€</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">n</span><span class="o">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="o">(</span><span class="p">âˆ€</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">le</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="no">m</span><span class="o">))</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">le</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="no">m</span><span class="w"> 
</span></pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-coq highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="no">le_ind</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">âˆ€</span><span class="w"> </span><span class="o">(</span><span class="no">n</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="no">P</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Prop</span><span class="o">),</span><span class="w">
  </span><span class="no">P</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="o">(</span><span class="p">âˆ€</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="o">(</span><span class="no">S</span><span class="w"> </span><span class="no">m</span><span class="o">))</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="p">âˆ€</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="no">nat</span><span class="o">,</span><span class="w"> </span><span class="no">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="no">m</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="no">P</span><span class="w"> </span><span class="no">m</span><span class="w"> 
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The 1st one looks more symmetric but 2nd one is easier (for proving things).</p>

:ET