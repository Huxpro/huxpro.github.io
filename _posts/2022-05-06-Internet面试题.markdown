---
layout:     post
title:      "INTERNET/BOWSER"
subtitle:   "å‰ç«¯å…³äºç½‘ç»œæµè§ˆå™¨çš„åŸºç¡€çŸ¥è¯†"
date:       2022-05-06
author:     "YorkWong"
header-img: "img/post-bg-js-version.jpg"
tags:
    - Job Interview
---

# INTERNET/Browserå…³äºç½‘ç»œçš„ä¸€äº›é¢è¯•é¢˜
# ğŸŒŸHTTP å’ŒHTTPS

ç›¸å…³é“¾æ¥ï¼š 

 [HTTPçš„å‰ä¸–ä»Šç”Ÿ - é…· å£³ - CoolShell](https://coolshell.cn/articles/19840.html)

 [å‰ç«¯é¢è¯•-ç½‘ç»œçŸ¥è¯†ç‚¹_æ¶µ^^é˜³çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_44057301/article/details/108246686)

Important

## HTTPæ¦‚å¿µ

è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯æœ€å¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ï¼Œæ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡†ã€‚ç”¨äºä»æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨ï¼Œ**ä½¿æµè§ˆå™¨æ›´åŠ é«˜æ•ˆï¼Œå‡å°‘ç½‘ç»œä¼ è¾“é‡**ï¼›

## HTTPSæ¦‚å¿µ

æ˜¯ä»¥**å®‰å…¨**ä¸ºç›®çš„çš„**HTTPé€šé“**ï¼Œç®€å•è®²æ˜¯**HTTPçš„å®‰å…¨ç‰ˆ**ï¼Œå³**HTTP+SSLå±‚**ï¼ŒHTTPSçš„å®‰å…¨åŸºç¡€æ˜¯ SSLï¼Œå› æ­¤åŠ å¯†çš„è¯¦ç»†å†…å®¹å°±éœ€è¦ SSLã€‚

## HTTPå’ŒHTTPSåŒºåˆ«

1. HTTPä¼ è¾“çš„æ•°æ®éƒ½æ˜¯æœªåŠ å¯†çš„ï¼Œæ˜¯æ˜æ–‡çš„ã€‚
2. HTTPçš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ã€‚
3. HTTPS åè®®éœ€è¦CAæœºæ„é¢å‘çš„SSLè¯ä¹¦ï¼Œè´¹ç”¨è¾ƒé«˜ã€‚
4. HTTPS åè®®æ˜¯ç”± SSL+HTTP åè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€ èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯” HTTPåè®®æ›´åŠ å®‰å…¨ã€‚
5. ä½¿ç”¨ä¸åŒçš„é“¾æ¥æ–¹å¼ï¼Œç«¯å£ä¹Ÿä¸åŒï¼Œä¸€èˆ¬è€Œè¨€ï¼ŒHTTPåè®®çš„ç«¯å£ä¸º 80ï¼ŒHTTPS çš„ç«¯å£ä¸º 443ã€‚

## ä¸€ä¸ªå®Œæ•´çš„HTTPäº‹åŠ¡ï¼ˆè¾“å…¥ç½‘å€åˆ°é¡µé¢æ˜¾ç¤ºï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿï¼‰

[æµè§ˆå™¨å·¥ä½œåŸç†ï¼šä» URL è¾“å…¥åˆ°é¡µé¢å±•ç°åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ](https://www.jianshu.com/p/d616d887953a)

[ä¸€æ¬¡å®Œæ•´çš„HTTPäº‹åŠ¡æ˜¯æ€æ ·ä¸€ä¸ªè¿‡ç¨‹ï¼Ÿ_yipiankongbaiçš„ä¸“æ -CSDNåšå®¢](https://blog.csdn.net/yipiankongbai/article/details/25029183)

1. **åŸŸåè§£æ**
    1. æŸ¥æ‰¾æµè§ˆå™¨ç¼“å­˜
    2. æŸ¥çœ‹æ“ä½œç³»ç»Ÿç¼“å­˜
    3. æŸ¥è¯¢æœ¬åœ°DNSï¼ˆåŸŸåç³»ç»Ÿï¼‰
    4. æŸ¥è¯¢æ ¹åŸŸåDNS
2. å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´**å‘èµ·TCPçš„3æ¬¡æ¡æ‰‹**
3. å»ºç«‹TCPè¿æ¥åï¼Œ**å®¢æˆ·ç«¯å‘èµ·HTTPè¯·æ±‚** 
4. **æœåŠ¡ç«¯å“åº”HTTPè¯·æ±‚**ï¼Œæµè§ˆå™¨å¾—åˆ°htmlä»£ç  
5. æµè§ˆå™¨è§£æhtmlä»£ç ï¼Œå¹¶è¯·æ±‚htmlä»£ç ä¸­çš„èµ„æºï¼ˆå¦‚jsã€cssã€å›¾ç‰‡ç­‰ï¼‰
6. æµè§ˆå™¨å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“å‘ˆç°ç»™ç”¨æˆ·

## HTTP2.0ä¼˜ç‚¹

1. å…è®¸å¤šè·¯å¤ç”¨;
2. äºŒè¿›åˆ¶åˆ†å¸§;ï¼ˆHTTP2.0ä¸‹ï¼Œé«˜æ•ˆä¼ è¾“æ•°æ®åŸå› æ‰€åœ¨ï¼‰
3. é¦–éƒ¨å‹ç¼©;
4. æœåŠ¡å™¨ç«¯ä¸»åŠ¨push

# ğŸŒŸTCP

## tcpä¸‰æ¬¡æ¡æ‰‹

![Untitled](INTERNET%20Browser%202bcbb2d3ba02402a9517fc0b96aa3937/Untitled.png)

- ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼š**å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡å‘é€ä¸€æ¡è¿æ¥è¯·æ±‚æ•°æ®**ï¼ŒSYN = 1ï¼ŒACK = 0å°±æ˜¯ä»£è¡¨å»ºç«‹è¿æ¥è¯·æ±‚ï¼Œå‘é€çš„å…·ä½“æ•°æ®ç¬¬ä¸€ä¸ªå­—èŠ‚ç¼–å·è®°ä¸ºxï¼Œèµ‹å€¼seq

---

- ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š**æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚åï¼Œè¿”å›å®¢æˆ·ç«¯çš„SYN = 1,åŠ ä¸Šè‡ªå·±çš„ç¡®è®¤å·ACK=1**,å‘é€çš„å…·ä½“æ•°æ®ç¬¬ä¸€ä¸ªå­—èŠ‚ç¼–å·è®°ä¸ºyï¼Œèµ‹å€¼seqï¼Œå¸Œæœ›å®¢æˆ·ç«¯ä¸‹ä¸€æ¬¡è¿”å›ç¼–å·x + 1ä¸ªå­—èŠ‚ä¸ºæ­¢çš„æ•°æ®ï¼Œè®°ä¸ºack = x + 1ã€‚
- ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢**æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯è¿”å›çš„è¯·æ±‚ç¡®è®¤åï¼Œå†æ¬¡å‘é€æ•°æ®ï¼ŒåŸå°ä¸åŠ¨è¿”å›ACK = 1**,è¿™é‡Œå°±ä¸éœ€è¦å†å‘é€ SYN=1äº†ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º**æ­¤æ—¶å¹¶ä¸æ˜¯è·ŸæœåŠ¡ç«¯è¿›è¡Œè¿æ¥è¯·æ±‚ï¼Œè€Œæ˜¯è¿æ¥ç¡®è®¤**ï¼Œæ‰€ä»¥åªéœ€è¦è¿”å›ACK = 1ä»£è¡¨ç¡®è®¤ï¼ŒåŒæ ·çš„ï¼Œå‘é€çš„å…·ä½“æ•°æ®ç¬¬ä¸€ä¸ªå­—èŠ‚ç¼–å·è®°ä¸ºseq = x + 1ï¼Œå¸Œæœ›æœåŠ¡ç«¯ä¸‹æ¬¡ä¼ è¾“çš„æ•°æ®ç¬¬ä¸€ä¸ªå­—èŠ‚ç¼–å·è®°ä¸ºack = y + 1

## å››æ¬¡æŒ¥æ‰‹

ä¼ è¾“å±‚åè®®æ–­å¼€è¿æ¥çš„è¿‡ç¨‹ï¼›

## ä¸ºä»€ä¹ˆTCPå»ºç«‹è¿æ¥æ—¶å€™ï¼Œè¦è¿›è¡Œ3æ¬¡æ¡æ‰‹ï¼Œ2æ¬¡ä¸è¡Œå—ï¼Ÿ

ä¸»è¦ç›®çš„: ä¸¤æ¬¡è¯·æ±‚åï¼Œå®¢æˆ·ç«¯å¾—å‡ºè‡ªå·±æ”¶å‘èƒ½åŠ›æ­£å¸¸ï¼ŒæœåŠ¡ç«¯çš„æ”¶å‘èƒ½åŠ›ä¹Ÿéƒ½æ­£å¸¸ï¼Œä½†æ­¤æ—¶**æœåŠ¡ç«¯åªçŸ¥é“è‡ªå·±çš„æ”¶å‘èƒ½åŠ›æ­£å¸¸ï¼Œå¹¶ä¸ç¡®è®¤å®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€‚**

**æ‰€ä»¥æ‰æœ‰ç¬¬ä¸‰æ¬¡è¯·æ±‚ï¼ˆè¿æ¥ç¡®è®¤ï¼‰**

# post å’Œ get åŒºåˆ«

## ç›¸åŒç‚¹

- GET å’Œ POST çš„åº•å±‚éƒ½æ˜¯ TCP/IPï¼Œéƒ½ä½¿ç”¨ TCP è¿æ¥ã€‚

## ä¸åŒç‚¹

- GET - ä»æŒ‡å®šçš„èµ„æºè¯·æ±‚æ•°æ®ã€‚
POST - å‘æŒ‡å®šçš„èµ„æºæäº¤è¦è¢«å¤„ç†çš„æ•°æ®ã€‚
- GET äº§ç”Ÿä¸€ä¸ª TCP æ•°æ®åŒ…;POST äº§ç”Ÿä¸¤ä¸ª TCP æ•°æ®åŒ…ã€‚
- å¯¹äº GET æ–¹å¼çš„è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šæŠŠheaderå’Œdataä¸€å¹¶å‘é€å‡ºå»ï¼ŒæœåŠ¡å™¨å“åº” 200(è¿”å›æ•°æ®);
- è€Œå¯¹äºPOSTï¼Œæµè§ˆå™¨å…ˆå‘é€ headerï¼ŒæœåŠ¡å™¨å“åº” 100 continueï¼Œå†å‘é€ dataï¼ŒæœåŠ¡ å™¨å“åº”200(è¿”å›æ•°æ®)ã€‚
- åªæœ‰getèƒ½å¤Ÿä½¿ç”¨ç¼“å­˜ï¼š
    - get è¯·æ±‚ç±»ä¼¼äºæŸ¥æ‰¾çš„è¿‡ç¨‹ï¼Œç”¨æˆ·è·å–æ•°æ®ï¼Œå¯ä»¥ä¸ç”¨æ¯æ¬¡éƒ½ä¸æ•°æ®åº“è¿æ¥ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ç¼“å­˜ã€‚å› æ­¤ get è¯·æ±‚é€‚åˆäºè¯·æ±‚ç¼“å­˜ã€‚
    - post åšçš„ä¸€èˆ¬æ˜¯ä¿®æ”¹å’Œåˆ é™¤çš„å·¥ä½œï¼Œæ‰€ä»¥å¿…é¡»ä¸æ•°æ®åº“äº¤äº’ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ç¼“å­˜ã€‚

## getè¯·æ±‚ä¼ å‚é•¿åº¦çš„è¯¯åŒº

GETçš„æœ€å¤§é•¿åº¦é™åˆ¶æ˜¯**å› ä¸ºæµè§ˆå™¨å’Œ web æœåŠ¡å™¨é™åˆ¶äº† URI çš„é•¿åº¦**ï¼›

ä¸åŒçš„æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¸åŒï¼Œä¸€èˆ¬é™åˆ¶åœ¨ 1~8K ä¹‹é—´ã€‚

# WebSocket çš„å®ç°å’Œåº”ç”¨

[https://blog.csdn.net/LL845876425/article/details/106393358](https://blog.csdn.net/LL845876425/article/details/106393358)

æ¦‚å¿µ

WebSocket æ˜¯ HTML5 ä¸­çš„æ–°åè®®ï¼Œæ”¯æŒæŒä¹…è¿æ¥;

å®ƒåŸºäºTCPçš„ä¸€ä¸ªåº”ç”¨åè®®ï¼Œä¸HTTPåè®®çš„å…³è”ä¹‹å¤„åœ¨äºwebsocketçš„æ¡æ‰‹æ•°æ®è¢«HTTPæœåŠ¡å™¨å½“ä½œHTTPåŒ…æ¥å¤„ç†ï¼Œä¸»è¦é€šè¿‡Update request HTTPåŒ…å»ºç«‹èµ·è¿æ¥ï¼Œä¹‹åçš„é€šä¿¡å…¨éƒ¨ä½¿ç”¨websocketè‡ªå·±çš„åè®®ã€‚

å®¢æˆ·ç«¯å‘é€websocketçš„æ¡æ‰‹è¯·æ±‚ï¼Œè¯·æ±‚æŠ¥æ–‡å¤´éƒ¨å¦‚ä¸‹

```java
GET /uin=xxxxxxxx&appchi=xxxxxxxxx&token=XXXXXXXXXXXX HTTP/1.1
Host: server.example.cn:443
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36
Upgrade: websocket
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate
Accept-Language: zh-CN,zh;q=0.9
Cookie: user_id=XXXXX
Sec-WebSocket-Key: 1/2hTi/+eNURiekpNI4k5Q==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
Sec-WebSocket-Protocol: binary, base64
```

æ³¨æ„ï¼š 

- ç¬¬ä¸€è¡Œä¸ºè¯·æ±‚çš„æ–¹æ³•ï¼Œç±»å‹å¿…é¡»ä¸º**GET**ï¼Œ**åè®®ç‰ˆæœ¬å·å¿…é¡»å¤§äº1.1**
- **Upgrade**å­—æ®µå¿…é¡»åŒ…å«ï¼Œå€¼ä¸º**websocket**
- **Connection**å­—æ®µå¿…é¡»åŒ…å«ï¼Œå€¼ä¸º**Upgrade**
- **Sec-WebSocket-Key**å­—æ®µå¿…é¡»åŒ…å« ï¼Œè®°å½•ç€**æ¡æ‰‹è¿‡ç¨‹ä¸­å¿…ä¸å¯å°‘çš„é”®å€¼ã€‚**
- **Sec-WebSocket-Protocol**å­—æ®µå¿…é¡»åŒ…å«ï¼Œè®°å½•ç€**ä½¿ç”¨çš„å­åè®®**
- **Origin**ï¼ˆè¯·æ±‚å¤´ï¼‰ï¼šOriginç”¨æ¥æŒ‡æ˜**è¯·æ±‚çš„æ¥æº**ï¼ŒOriginå¤´éƒ¨ä¸»è¦ç”¨äºä¿æŠ¤WebsocketæœåŠ¡å™¨å…å—éæˆæƒçš„è·¨åŸŸè„šæœ¬è°ƒç”¨Websocket APIçš„è¯·æ±‚ã€‚ä¹Ÿå°±æ˜¯ä¸æƒ³æ²¡è¢«æˆæƒçš„è·¨åŸŸè®¿é—®ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼ŒæœåŠ¡å™¨å¯ä»¥é€šè¿‡è¿™ä¸ªå­—æ®µæ¥åˆ¤æ–­æ¥æºçš„åŸŸç„¶åæœ‰é€‰æ‹©åœ°æ‹’ç»ã€‚

# è¯´ä¸€ä¸‹æµè§ˆå™¨ç¼“å­˜ï¼Œç¼“å­˜ç­–ç•¥

[å½»åº•ç†è§£æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ - æ˜é‡‘](https://juejin.cn/post/6844903593275817998)

ç¼“å­˜åˆ†ä¸ºä¸¤ç§:å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ï¼Œæ ¹æ®å“åº”çš„header å†…å®¹æ¥å†³å®š

å¼ºåˆ¶ç¼“å­˜ä¼˜å…ˆäºåå•†ç¼“å­˜è¿›è¡Œï¼Œè‹¥å¼ºåˆ¶ç¼“å­˜(Expireså’ŒCache-Control)ç”Ÿæ•ˆåˆ™ç›´æ¥ä½¿ç”¨ç¼“å­˜ï¼Œè‹¥ä¸ç”Ÿæ•ˆåˆ™è¿›è¡Œåå•†ç¼“å­˜(Last-Modified / If-Modified-Sinceå’ŒEtag / If-None-Match)ï¼Œåå•†ç¼“å­˜ç”±æœåŠ¡å™¨å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜ï¼Œè‹¥åå•†ç¼“å­˜å¤±æ•ˆï¼Œé‚£ä¹ˆä»£è¡¨è¯¥è¯·æ±‚çš„ç¼“å­˜å¤±æ•ˆï¼Œé‡æ–°è·å–è¯·æ±‚ç»“æœï¼Œå†å­˜å…¥æµè§ˆå™¨ç¼“å­˜ä¸­ï¼›ç”Ÿæ•ˆåˆ™è¿”å›304ï¼Œç»§ç»­ä½¿ç”¨ç¼“å­˜;

åœ¨ Header å†…çš„å­—æ®µç”¨äºæ§åˆ¶ç¼“å­˜æœºåˆ¶.è€æ–¹æ³• Expiresï¼Œè®°å½•çš„ç»å¯¹å€¼;æ–°æ–¹æ³• Cache-Control å¤šäº†ä¸€å †é€‰é¡¹ï¼Œè®°å½•çš„æ—¶é—´æ˜¯ç›¸å¯¹å€¼;

è·å–ç¼“å­˜,æ£€æµ‹ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼Œå¦‚æœæ²¡è¿‡æœŸå–ç¼“å­˜ï¼Œä¼˜å…ˆä»å†…å­˜ï¼Œå…¶æ¬¡ç¡¬ç›˜;

å¦‚æœè¿‡æœŸï¼Œåˆ™ä¸æœåŠ¡å™¨åå•†ç¼“å­˜æ˜¯å¦ä»ç„¶å¯ç”¨ï¼Œå¦‚æœä¸å¯ç”¨åˆ™è·å–ï¼Œå¯ç”¨å–ç¼“å­˜

![Untitled](INTERNET%20Browser%202bcbb2d3ba02402a9517fc0b96aa3937/Untitled%201.png)

# æµè§ˆå™¨åœ¨ç”Ÿæˆé¡µé¢çš„æ—¶å€™ï¼Œä¼šç”Ÿæˆå“ªä¸¤é¢—æ ‘?

å½“æµè§ˆå™¨æ¥æ”¶åˆ°æœåŠ¡å™¨ç›¸åº”æ¥çš„ HTML åï¼Œä¼šéå†æ–‡æ¡£èŠ‚ç‚¹ï¼Œç”Ÿæˆ **DOM æ ‘**ï¼Œ
è§£æ CSS æ–‡ä»¶ç”Ÿæˆ **CSSOM è§„åˆ™æ ‘**ã€‚

# httpçŠ¶æ€ç 

## 304çŠ¶æ€ç 

åå•†ç¼“å­˜ï¼Œè¡¨ç¤ºNot Modified æœªä¿®æ”¹ã€‚

å¦‚æœå®¢æˆ·ç«¯å‘é€äº†ä¸€ä¸ªå¸¦æ¡ä»¶çš„ GET è¯·æ±‚ä¸”è¯¥è¯·æ±‚å·²è¢«å…è®¸ï¼Œè€Œæ–‡æ¡£çš„å†…å®¹(è‡ªä¸Šæ¬¡ è®¿é—®ä»¥æ¥æˆ–è€…æ ¹æ®è¯·æ±‚çš„æ¡ä»¶)å¹¶æ²¡æœ‰æ”¹å˜ï¼Œåˆ™æœåŠ¡å™¨åº”å½“è¿”å›è¿™ä¸ª 304 çŠ¶æ€ç ã€‚

## fetch å‘é€ post è¯·æ±‚çš„æ—¶å€™ï¼Œæ€»æ˜¯å‘é€ 2 æ¬¡ï¼Œç¬¬ä¸€æ¬¡çŠ¶æ€ç æ˜¯ 204ï¼Œç¬¬äºŒæ¬¡æ‰æˆåŠŸ?

**204è¡¨ç¤ºè¯·æ±‚è¢«å—ç†ä½†æ²¡æœ‰èµ„æºå¯ä»¥è¿”å›**

ç”¨ fetch çš„ post è¯·æ±‚çš„æ—¶å€™ï¼Œå¯¼è‡´ fetch ç¬¬ä¸€æ¬¡å‘é€äº†ä¸€ä¸ª Options è¯·æ±‚ï¼Œè¯¢é—®æœåŠ¡å™¨æ˜¯å¦æ”¯æŒä¿®æ”¹çš„è¯·æ±‚å¤´ï¼Œå¦‚æœæœåŠ¡å™¨æ”¯æŒï¼Œåˆ™åœ¨ç¬¬äºŒæ¬¡ä¸­å‘é€çœŸæ­£çš„è¯·æ±‚ã€‚

# Cookie  sessionStorage  localStorage

## Cookieã€sessionStorageã€localStorage

å…±åŒç‚¹ ï¼š éƒ½ä¿å­˜åœ¨æµè§ˆå™¨ç«¯ï¼Œä¸”æ˜¯åŒæºçš„ï¼›

### Cookie

- Cookieï¼š **cookieæ•°æ®åœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨é—´æ¥å›ä¼ é€’ï¼›**
- sessionStorageå’ŒlocalStorage**ä¸ä¼šè‡ªåŠ¨**æŠŠæ•°æ®å‘ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜ã€‚
- cookie æ•°æ®è¿˜æœ‰è·¯å¾„(path)çš„æ¦‚å¿µï¼Œå¯ä»¥é™åˆ¶ cookie åªå±äºæŸä¸ªè·¯å¾„ä¸‹ï¼›å­˜å‚¨å®¹é‡å°ï¼Œåªæœ‰å¤§çº¦ 4K å·¦å³ï¼›

 **Cookieçš„ä½œç”¨**ï¼šä¿å­˜ç”¨æˆ·ç™»å½•çŠ¶æ€ï¼›è·Ÿè¸ªç”¨æˆ·è¡Œä¸ºï¼›å®šåˆ¶é¡µé¢ï¼›

### sessionStorageï¼š

- å­˜å‚¨åœ¨Â `sessionStorage`Â é‡Œé¢çš„æ•°æ®åœ¨é¡µé¢ä¼šè¯ç»“æŸæ—¶è¢«æ¸…é™¤ï¼›
- æ‰“å¼€å¤šä¸ªç›¸åŒçš„URLçš„Tabsé¡µé¢ï¼Œä¼šåˆ›å»ºå„è‡ªçš„`sessionStorage`ï¼›
- é¡µé¢ä¼šè¯åœ¨æµè§ˆå™¨æ‰“å¼€æœŸé—´ä¸€ç›´ä¿æŒï¼Œå¹¶ä¸”é‡æ–°åŠ è½½æˆ–æ¢å¤é¡µé¢ä»ä¼šä¿æŒåŸæ¥çš„é¡µé¢ä¼šè¯ï¼›å…³é—­å¯¹åº”æµè§ˆå™¨çª—å£ï¼ˆWindowï¼‰/ tabï¼Œä¼šæ¸…é™¤å¯¹åº”çš„`sessionStorageï¼›`
- **åœ¨æ–°æ ‡ç­¾æˆ–çª—å£æ‰“å¼€ä¸€ä¸ªé¡µé¢æ—¶ä¼šå¤åˆ¶é¡¶çº§æµè§ˆä¼šè¯çš„ä¸Šä¸‹æ–‡ä½œä¸ºæ–°ä¼šè¯çš„ä¸Šä¸‹æ–‡ï¼›**

```jsx
// ä¿å­˜æ•°æ®åˆ° sessionStorage
sessionStorage.setItem('key', 'value');

// ä» sessionStorage è·å–æ•°æ®
let data = sessionStorage.getItem('key');

// ä» sessionStorage åˆ é™¤ä¿å­˜çš„æ•°æ®
sessionStorage.removeItem('key');

// ä» sessionStorage åˆ é™¤æ‰€æœ‰ä¿å­˜çš„æ•°æ®
sessionStorage.clear();
```

### localStorage

- åŒæºçª—å£éƒ½ä¼šå…±äº«ï¼Œå¹¶ä¸”ä¸ä¼šå¤±æ•ˆï¼Œä¸ç®¡çª—å£æˆ–è€…æµè§ˆå™¨å…³é—­ä¸å¦éƒ½ä¼šå§‹ç»ˆç”Ÿæ•ˆï¼›
- ä¸sessionStorageçš„åŒºåˆ«æ˜¯å­˜å‚¨åœ¨Â `localStorage`Â çš„æ•°æ®å¯ä»¥**é•¿æœŸä¿ç•™**

## Cookie å¦‚ä½•é˜²èŒƒ XSS æ”»å‡»

### XSS

> å³ä¸º(**Cross Site Scripting**)(**è·¨ç«™è„šæœ¬æ”»å‡»**)æ˜¯æŒ‡æ”»å‡»è€…åœ¨**è¿”å›çš„ HTML ä¸­åµŒå…¥ javascript è„šæœ¬ã€‚**
> 

### è§£å†³æ–¹æ³•ï¼š

åœ¨HTTP å¤´éƒ¨é…ä¸Š**set-cookieï¼Œæœ‰ä¸¤ä¸ªå±æ€§ï¼š**

- **httponly** è¿™ä¸ªå±æ€§å¯ä»¥é˜²æ­¢XSS,å®ƒä¼šç¦æ­¢javascriptè„šæœ¬æ¥è®¿é—® cookieã€‚
- **secureonly** å‘Šè¯‰æµè§ˆå™¨ä»…åœ¨è¯·æ±‚ä¸º https çš„æ—¶å€™å‘é€ cookieã€‚

# web worker

## web workeræ˜¯ä»€ä¹ˆï¼Ÿ

web worker æ˜¯è¿è¡Œåœ¨åå°çš„ jsï¼Œç‹¬ç«‹äºå…¶ä»–è„šæœ¬ï¼Œä¸ä¼šå½±å“é¡µé¢çš„æ€§èƒ½ã€‚ 

å¹¶ä¸”é€šè¿‡ postMessage å°†ç»“æœå›ä¼ åˆ°ä¸»çº¿ç¨‹ã€‚è¿™æ ·åœ¨è¿›è¡Œå¤æ‚æ“ä½œçš„æ—¶å€™ï¼Œå°±ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹äº†ã€‚

## å¦‚ä½•åˆ›å»ºweb workerï¼Ÿ

1. æ£€æµ‹æµè§ˆå™¨å¯¹äº web worker çš„æ”¯æŒæ€§
2. åˆ›å»º web worker æ–‡ä»¶(jsï¼Œå›ä¼ å‡½æ•°ç­‰)
3. åˆ›å»º web worker å¯¹è±¡

# å‰ç«¯æ€§èƒ½ä¼˜åŒ–

1. å‡å°‘ HTTP è¯·æ±‚:åˆå¹¶èµ„æºï¼Œå‡å°‘ HTTP è¯·æ±‚æ•°ï¼Œminify / gzip å‹ç¼©ï¼ŒwebPï¼ŒlazyLoadã€‚
2. åŠ å¿«è¯·æ±‚é€Ÿåº¦:é¢„è§£æ DNSï¼Œå‡å°‘åŸŸåæ•°ï¼Œå¹¶è¡ŒåŠ è½½ï¼ŒCDN åˆ†å‘ã€‚
3. ç¼“å­˜:HTTP åè®®ç¼“å­˜è¯·æ±‚ï¼Œç¦»çº¿ç¼“å­˜ manifestï¼Œç¦»çº¿æ•°æ®ç¼“å­˜ï¼ŒlocalStorageã€‚
4. æ¸²æŸ“:JS/CSS ä¼˜åŒ–ï¼ŒåŠ è½½é¡ºåºï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ï¼Œpipeline

# å‰ç«¯è·¯ç”±çš„ä¸¤ç§æ–¹å¼

## hashæ¨¡å¼

ç›‘å¬æµè§ˆå™¨åœ°å€hashå€¼å˜åŒ–ï¼Œæ‰§è¡Œç›¸åº”çš„jsåˆ‡æ¢ç½‘é¡µï¼›

## historyæ¨¡å¼

åˆ©ç”¨history APIå®ç°urlåœ°å€æ”¹å˜ï¼Œç½‘é¡µå†…å®¹æ”¹å˜ï¼›

## åŒºåˆ«

hashä¼šåœ¨æµè§ˆå™¨åœ°å€åé¢å¢åŠ #å·ï¼Œè€Œhistoryå¯ä»¥è‡ªå®šä¹‰åœ°å€ã€‚

# cdn(å†…å®¹åˆ†å‘ç½‘ç»œ) åŸç†

> CDN çš„å…¨ç§°æ˜¯ Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDN çš„åŸºæœ¬åŸç†æ˜¯å¹¿æ³›é‡‡ç”¨å„ç§ç¼“å­˜æœåŠ¡å™¨ï¼Œå°†è¿™äº›ç¼“å­˜æœåŠ¡å™¨åˆ†å¸ƒåˆ°ç”¨æˆ·è®¿é—®ç›¸å¯¹é›†ä¸­çš„åœ°åŒºæˆ–ç½‘ç»œä¸­ï¼Œåœ¨ç”¨æˆ·è®¿ é—®ç½‘ç«™æ—¶ï¼Œåˆ©ç”¨å…¨å±€è´Ÿè½½æŠ€æœ¯å°†ç”¨æˆ·çš„è®¿é—®æŒ‡å‘è·ç¦»æœ€è¿‘çš„å·¥ä½œæ­£å¸¸çš„ç¼“å­˜æœåŠ¡å™¨ä¸Šï¼Œç”±ç¼“ å­˜æœåŠ¡å™¨ç›´æ¥å“åº”å®¢æˆ·ç«¯è¯·æ±‚çš„æ•°æ®ã€‚
> 

# æµè§ˆå™¨æ¶æ„

[Chromeæµè§ˆå™¨æ¶æ„](https://xie.infoq.cn/article/5d36d123bfd1c56688e125ad3)